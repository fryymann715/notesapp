{% extends "base.html" %}
{% block lesson %}
<div class="lesson">
    <div class="grey-bar" id="lesson-header">
        <h1 id="lesson-title">Lesson: {{dgoods.lesson_number}}<br>
            {{dgoods.lesson_name}}</h1>
    </div>
        <!-- Here I run a for loop for each concept in the list and the description content is flagged as safe
         because I use some HTML formatting in my note files. -->
        {% for concept in dgoods.concept_list %}

        <div class="concept">
            <h2>{{concept.title}}</h2>
            <p>
                {{concept.description | safe}}
            </p>
        </div>
        {% endfor %}
        </div>
{% if dgoods.is_user %}
    <div class="grey-bar" id="add-post-div">
        <form class="comment-form" action="/sign?lesson_number={{dgoods.lesson_number}}" method="post">
          <div><textarea class="comment-box" name="content" rows="3" cols="60"></textarea></div>
          <div><input type="submit" value="Post Note"></div>
        </form>
        <strong>Post your own personal notes for each lesson.</strong>
    </div>
    {% if dgoods.posts %}
        <div id="post-box">
           <b>Your notes for lesson {{dgoods.lesson_number}}:</b>
            {% for post in dgoods.posts %}
                <div class="post">
                    <blockquote class="post-block">{{post.content}}</blockquote>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endif %}

{% endblock %}